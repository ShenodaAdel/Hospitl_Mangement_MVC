@{
    ViewBag.Title = "Make Appointment";
}

<h2 class="text-center my-4 fw-bold">Make an Appointment</h2>

<div class="container" data-aos="fade-up" data-aos-delay="100">
    <!-- Display success message -->
    @if (TempData["SuccessMessage"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            @TempData["SuccessMessage"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }

    <!-- Appointment form -->
    <form asp-action="Submit" class="p-5 bg-white shadow-lg rounded border-0">
        <div class="row g-4 mb-4">
            <div class="col-md-4">
                <label for="fullName" class="form-label fw-bold">Your Name</label>
                <input type="text" name="fullName" class="form-control border-2" id="fullName" placeholder="Your Name" required>
            </div>
            <div class="col-md-4">
                <label for="email" class="form-label fw-bold">Your Email</label>
                <input type="email" name="email" class="form-control border-2" id="email" placeholder="Your Email" required>
            </div>
            <div class="col-md-4">
                <label for="phone" class="form-label fw-bold">Your Phone</label>
                <input type="tel" name="phone" class="form-control border-2" id="phone" placeholder="Your Phone" required>
            </div>
        </div>

        <div class="row g-4 mb-4">
            <div class="col-md-4">
                <label for="appointmentDate" class="form-label fw-bold">Appointment Date</label>
                <input type="date" name="appointmentDate" class="form-control border-2" id="appointmentDate" required>
            </div>
            <div class="col-md-4">
                <label for="Staute" class="form-label fw-bold">Appointment Type</label>
                <select name="Staute" id="Staute" class="form-select border-2" required>
                    <option value="" disabled selected>Select Appointment Type</option>
                    <option value="consultation">Consultation</option>
                    <option value="follow-up">Follow-up</option>
                    <option value="emergency">Emergency</option>
                </select>
            </div>
        </div>

        <div class="row g-4 mb-4">
            <div class="col-md-4">
                <label for="doctorId" class="form-label fw-bold">Select Doctor</label>
                @if (ViewBag.Doctor != null && ViewBag.Doctor.Count > 0)
                {
                    <select name="doctorId" id="doctorId" class="form-select border-2" required>
                        <option value="" disabled selected>Select Doctor</option>
                        @foreach (var doctor in ViewBag.Doctor)
                        {
                            <option value="@doctor.Id">@doctor.First_Name @doctor.Last_Name</option>
                        }
                    </select>
                }
                else
                {
                    <p class="text-danger">No doctors available at the moment. Please try again later.</p>
                }
            </div>
        </div>

        <div class="mb-4">
            <label for="message" class="form-label fw-bold">Reason</label>
            <textarea class="form-control border-2" name="message" id="message" rows="1" placeholder="Reason" required></textarea>
        </div>

        <div class="mb-4">
            <label for="additionalNotes" class="form-label fw-bold">Additional Notes (Optional)</label>
            <textarea class="form-control border-2" name="additionalNotes" id="additionalNotes" rows="3" placeholder="Additional Notes"></textarea>
        </div>

        <div class="text-center">
            <button type="submit" class="btn btn-primary btn-lg px-5 py-2" style="background-color: blue; border-color: #4CAF50; transition: background-color 0.3s ease;">Submit Appointment Request</button>
        </div>
    </form>
</div>
